# 课程中心 API 测试集合
# 可使用 REST Client (VSCode插件) 或 Postman 导入

### 设置变量
@baseUrl = http://localhost:3000/api
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

### ========================================
### 1. 认证接口测试
### ========================================

### 1.1 用户注册
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "user_name": "测试用户",
  "phone": "13912345678",
  "email": "test@example.com",
  "password": "123456",
  "occupation": "学生",
  "learning_goal": "学习编程"
}

### 1.2 用户登录
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "phone": "13900139001",
  "password": "123456"
}

### 1.3 获取当前用户信息
GET {{baseUrl}}/auth/me
Authorization: Bearer {{token}}

### 1.4 更新用户信息
PUT {{baseUrl}}/auth/profile
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "user_name": "张三三",
  "occupation": "前端工程师",
  "user_intro": "热爱学习"
}

### 1.5 修改密码
PUT {{baseUrl}}/auth/password
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "old_password": "123456",
  "new_password": "654321"
}

### ========================================
### 2. 课程接口测试
### ========================================

### 2.1 获取课程列表（无筛选）
GET {{baseUrl}}/courses?page=1&limit=12

### 2.2 获取课程列表（带筛选）
GET {{baseUrl}}/courses?page=1&limit=12&category_id=1&difficulty=beginner&sort=popular

### 2.3 搜索课程
GET {{baseUrl}}/courses?keyword=Python

### 2.4 获取课程详情
GET {{baseUrl}}/courses/1

### 2.5 获取推荐课程
GET {{baseUrl}}/courses/recommended?limit=6

### 2.6 获取热门课程
GET {{baseUrl}}/courses/popular?limit=6

### 2.7 获取最新课程
GET {{baseUrl}}/courses/newest?limit=6

### 2.8 获取相关课程
GET {{baseUrl}}/courses/1/related?limit=4

### 2.9 报名课程
POST {{baseUrl}}/courses/1/enroll
Authorization: Bearer {{token}}

### 2.10 收藏课程
POST {{baseUrl}}/courses/1/favorite
Authorization: Bearer {{token}}

### 2.11 更新学习进度
PUT {{baseUrl}}/courses/1/progress
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "progress": 45
}

### 2.12 获取用户课程列表
GET {{baseUrl}}/courses/user/courses?type=all
Authorization: Bearer {{token}}

### 2.13 获取正在学习的课程
GET {{baseUrl}}/courses/user/courses?type=learning
Authorization: Bearer {{token}}

### 2.14 获取收藏的课程
GET {{baseUrl}}/courses/user/courses?type=favorite
Authorization: Bearer {{token}}

### ========================================
### 3. 分类接口测试
### ========================================

### 3.1 获取所有分类
GET {{baseUrl}}/categories

### 3.2 获取顶级分类
GET {{baseUrl}}/categories/top

### 3.3 获取分类详情
GET {{baseUrl}}/categories/1

### ========================================
### 4. 评价接口测试
### ========================================

### 4.1 获取课程评价列表
GET {{baseUrl}}/reviews/course/1?page=1&limit=10

### 4.2 添加课程评价
POST {{baseUrl}}/reviews/course/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "rating": 5,
  "review_content": "非常棒的课程，讲解清晰，内容丰富！"
}

### 4.3 更新评价
PUT {{baseUrl}}/reviews/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "rating": 4,
  "review_content": "更新后的评价内容"
}

### 4.4 删除评价
DELETE {{baseUrl}}/reviews/1
Authorization: Bearer {{token}}

### ========================================
### 5. 健康检查
### ========================================

### 5.1 健康检查
GET {{baseUrl}}/health
